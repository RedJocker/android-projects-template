<h2>Description</h2>

	<p>
		In this stage, we will add two more filters - <strong>saturation </strong>and<strong> gamma</strong>.<br>
		So now four filters should affect image look.<br>
	</p>
	<p>
		To increase <strong>saturation </strong>we must increase color intensity
		without affecting it's brightness.
	</p>
	<p>
		Increase in <strong>gamma</strong> value will mean that the image will be more focused
		on shadows than highlights.
	</p>
	<br/>

<h2>Objectives</h2>

	<ol>
		<li>
			Add a <code>Slider</code> widget for specifying the photo <strong>saturation</strong>
			with the <code>id</code> attribute <code>slSaturation</code> <br/>
			The values range from -250 to 250 with the step size 10 and initial value 0
		</li>
		<li>
			Add a <code>Slider</code> widget for specifying the photo <strong>gamma</strong>
			with the <code>id</code> attribute <code>slGamma</code> <br/>
			The values range from 0.2 to 4 with the step size 0.2 and initial value 1
		</li>
		<li>
			<p> The <strong>saturation filter </strong>can be calculated in the following way:</p>
			<br/>
			<p><code>
				red = alpha * (red - rgbAvg) + rgbAvg<br>
				green = alpha * (green - rgbAvg) + rgbAvg<br>
				blue = alpha * (blue - rgbAvg) + rgbAvg
			</code></p>
			<br/>

			<p>where: </p> <br>
			<p><code>
				alpha = (255 + <strong>saturation</strong>) / (255 - <strong>saturation</strong>)<br>
				rgbAvg = (red + green + blue) / 3
			</code></p>
			<br/>
			<p><strong>saturation </strong>is simply the current saturation slider value.</p>
		</li>
		<li>
			rgbAvg is calculated for each pixel, that is, each pixel has it's own rgbAvg. Also it should
			be calculated after previous filters have already been applied.
		</li>
		<li>
			<p>The <strong>gamma filter </strong>can be calculated in the following way:</p>
			<br/>
			<p><code>
				red = 255 * (red / 255)^g <br>
				green = 255 * (green / 255)^g <br>
				blue = 255 * (blue / 255)^g
			</code></p>
			<br/>
			<p>where:</p>
			<p><strong>g</strong> is simply current gamma slider value.</p>
		</li>
		<li>
			<p>
				As you already know the order in which filters are applied matter,
				so to pass the tests filters must be applied in the following order:
			</p>

			<p><code>
				brightnessFilter -&gt; contrastFilter -&gt; saturationFilter -&gt; gammaFilter
			</code></p>

		</li>
	</ol>

	<p>
		Once again tests allow some margin rounding error, but it's recommended to use Ints
		and use Double only when necessary (power operations).
	</p>
	<p>
		Depending on the emulated/real device used some sliders may be placed outside the view
		because the screen is not big enough. You can use ScrollView to get around that issue,
		but tests won't enforce you to use it.
	</p>

<h2>Examples</h2>

	<p>
		<img height="520" width="270" name="image.png"
			alt="Example application view with four sliders at increasingly higher values"
			src="https://ucarecdn.com/14586efa-02e3-4082-9cf9-5bb49efd39bb/" >
	</p>

	<p>
		<img height="520" width="270" name="image.png"
			alt="Example application view with four sliders at mixed values"
			src="https://ucarecdn.com/52769e58-3316-4e5a-bc3e-2a411b2c54a2/" >
	</p>