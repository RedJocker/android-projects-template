<h2>Description</h2>

	<p>
		In this stage, we will add another filter&nbsp;-&nbsp;<strong>contrast filter</strong>.<br/>
	</p>
	<p>
		A contrast at minimum value means that all pixels have the same brightness value.
		A contrast at maximum value means that the difference between the
		darkest and brightest pixel is maximized, that is, one is 0 and the other is 255.<br/>
	</p>
	<p>
		To regulate contrast we must be able to spread/tight up each pixel brightness
		from the average image brightness. The average brightness is calculated for the whole image,
		that is, there is only one average brightness for one image.<br/>
	</p>
	<p>
		The Contrast filter isn&#39;t really harder to implement than the brightness filter,
		but that doesn&#39;t necessarily mean this stage difficulty is the same as stage 2.<br/>
		The catch is, both filters should affect each other and work at the same time.<br/>
	</p>
	<p>
		Also another filter means we will add&nbsp;yet another slider which will regulate the&nbsp;
		<strong>contrast value</strong>.&nbsp;
	</p>

	<p>
		More info on contrast can be found
		<a href="https://theailearner.com/2019/01/30/what-is-contrast-in-image-processing/">here</a>
	</p>

<h2>Objectives</h2>

	<p>Add the following components to the application layout:</p>

	<ol>
		<li><code>Slider</code>&nbsp;widget for specifying the photo&nbsp;<strong>contrast</strong>&nbsp;
			with the&nbsp;<code>id</code>&nbsp;attribute&nbsp;<code>slContrast</code>;
			the values range from -250&nbsp;to 250&nbsp;with the step size 10&nbsp;and initial value 0
		</li>

		<li>The contrast filter values&nbsp;can be calculated in the following way:
			<br/><br/>

			<p><code>
				red = alpha * (red - avgBright) + avgBright<br />
				green = alpha * (green - avgBright) + avgBright<br />
				blue&nbsp;= alpha * (blue - avgBright) + avgBright
			</code></p>
			<br/>

			<p>where:</p>
			<br/>

			<p><code>
				alpha = (255 + <strong>contrast</strong>)/(255 - <strong>contrast</strong>)<br />
				avgBright = average image brightness
			</code></p>
			<br/>

			<p>and <strong>contrast&nbsp;</strong>is simply the current contrast slider value.</p>

		</li>


	</ol>



	<p>Once again tests allow some margin rounding error, but it&#39;s recommended to use just Ints.</p>

	<p><strong>Now the most&nbsp;crucial part!</strong></p>

	<ol>
		<li>Order in which filters are applied matters.
			To pass the tests filters must be applied in the following order:<br/>
			<code>brightnessFilter -&gt; contrastFilter</code></li>
		<li>Color values should not get out of bounds [-255, 255]</li>
		<li>avgBrightness should be calculated after brightness filter has already been applied</li>
	</ol>

	<br/>

<h2>Examples</h2>

	<p>
		<img height="520" width="270"  name="image.png"
			 alt="Example with application view contrast slider at maximum value and brightness a little negative"
			 src="https://ucarecdn.com/5eed5bef-429d-443e-8830-7965376be9ac/" />
	</p>

	<p>
		<img height="520" width="270" name="image.png"
			 alt="Example with application view contrast slider a little negative and zero brightness"
			 src="https://ucarecdn.com/e8a54a20-26b7-4bd6-8494-3a1897031718/"  /></p>
